from datetime import date, timedelta
from random import random, choice, randint
from django.core.management.base import BaseCommand, CommandError
from django.contrib.auth import get_user_model;

start_st = 54354
from api.models import Record, PriorityChoices, StatusChoices
controllers = ["Ослов А.И.", "Архидьячок П.Н.", "Жмеликов П.А.",  "Скуфинская А.Я.",  "Газелькин В.Г.",  "Пихов Д.Е.", "Салочай Т.М", "Кукожин С.Б." ]
quotes = [
    "Будь собой; все остальные роли уже заняты.",
    "Жизнь – это 10% того, что с тобой происходит, и 90% того, как ты на это реагируешь.",
    "Успех – это идти от поражения к поражению, не теряя энтузиазма.",
    "Мир принадлежит тому, кто ему рад.",
    "Если хочешь изменить мир, начни с себя.",
    "Каждый день – это новая возможность.",
    "Лучшее время посадить дерево было 20 лет назад. Следующее лучшее время – сейчас.",
    "Секрет успеха в том, чтобы начать.",
    "Будущее зависит от того, что ты делаешь сегодня.",
    "Настоящий успех – это быть счастливым каждый день.",
    "Падаешь семь раз – поднимайся восемь.",
    "Лучший способ предсказать будущее – создать его.",
    "Не бойся ошибаться – бойся ничего не делать.",
    "Жизнь слишком коротка, чтобы тратить её на ненависть.",
    "Чем больше отдаешь, тем больше получаешь.",
    "Никогда не сдавайся, ведь завтра может быть твоё лучшее утро.",
    "Не сравнивай себя с другими. Сравнивай себя с собой вчерашним.",
    "Кто хочет – ищет возможности, кто не хочет – ищет причины.",
    "Иногда молчание – лучший ответ.",
    "Верь в себя, даже если в тебя никто не верит.",
    "Сначала делают, потом говорят, что так и было задумано.",
    "Смелость – это делать то, чего боишься.",
    "Дорога в тысячу миль начинается с одного шага.",
    "Не трать время на то, что не делает тебя счастливым.",
    "Действуй! Даже если боишься.",
    "Если хочешь иметь то, что никогда не имел, начни делать то, что никогда не делал.",
    "Твои мысли создают твою реальность.",
    "Иногда неудача – это просто переодетый успех.",
    "Будь причиной чьей-то улыбки сегодня.",
    "Не позволяй страху управлять тобой.",
    "Каждый человек – архитектор своего счастья.",
    "Ошибки – это доказательство того, что ты пытался.",
    "Самая темная ночь перед рассветом.",
    "Чем труднее путь, тем ценнее цель.",
    "Большие дела начинаются с маленьких шагов.",
    "Если не попробуешь, никогда не узнаешь.",
    "Улыбайся – и мир улыбнётся в ответ.",
    "Настоящая мудрость – знать, когда остановиться.",
    "Иногда лучше отпустить, чем держаться.",
    "Если не знаешь, куда идти, иди вперёд.",
    "То, что сегодня кажется трудным, завтра станет твоей силой.",
    "Верь в себя – это первый шаг к успеху.",
    "Нет ничего невозможного – есть только маловероятное.",
    "Ошибки – это ступени к успеху.",
    "Лучший способ что-то сделать – просто начать.",
    "Каждый день – это новый шанс стать лучше.",
    "Не важно, как медленно ты идёшь, главное – не останавливаться.",
    "Ты сильнее, чем думаешь.",
    "Не жди идеального момента, просто действуй!"
]

def create_record(n: int, date: date) -> dict:
	global start_st
	record={"id": n}
	record["remark_datetime"] = date
	record["status"] = choice(list(StatusChoices))
	record["priority"] = choice(list(PriorityChoices))
	record["remark"] = choice(quotes)
	record["controller"] = choice(controllers)
	start_st += randint(1, 4)
	record["shift_task"] = start_st

	return record

class Command(BaseCommand):
	help = "Наполняет базу первоначальными значениями"

	def handle(self, *args, **options):
		pass
		User = get_user_model()
		User.objects.create_superuser('admin', 'admin@myproject.com', '1234', last_name="admin")

	date = date(2024, 10, 1)
	end_date = date.today()
	recs=[]
	print(StatusChoices)
	print(list(StatusChoices))
	print(dir(StatusChoices))

	n = 0
	while date < end_date:
		n += 1
		recs.append(
			Record(**create_record(n, date))
		)
		if random()<.33:
			date += timedelta(days=1)
	Record.objects.bulk_create(recs)
